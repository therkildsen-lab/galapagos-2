<section class="page-section {{ section.background_style }}" id="{{ section.section_id }}">
  <div class="container px-4 px-lg-5">
    <h2 class="text-center mt-0">{{ section.title }}</h2>
    <hr class="divider border border-primary border-2">
    <div class="row gx-4 gx-lg-5 justify-content-center">
      {% assign cols = section.size %}
      {% if cols > 4 %}
        {% assign cols = 4 %}
      {% endif %}

      {% assign colsL = 12 | divided_by: cols %}
      {% assign colsM = colsL | times: 2 %}

      {% for service in section.services %}
      <div class="col-lg-{{ colsL }} col-md-{{ colsM }} text-center">
        <div class="mt-5">
          <div class="mb-2">
            {% if service.icon contains '.png' or service.icon contains '.jpg' or service.icon contains '.svg' %}
              <img src="{{ service.icon }}" alt="{{ service.title }} icon" style="width:64px;height:64px;display:block;margin:0 auto;">
            {% else %}
              <i class="{{ service.icon }} bi text-primary" style="font-size: 64px;"></i>
            {% endif %}
          </div>
          <h3 class="h4 mb-2">{{ service.title }}</h3>
          <div class="text-muted mb-0">
            {{ service.text | markdownify }}
            {% if service.url %}
              <a href="{{ service.url }}"><i class="bi bi-link"></i></a>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
